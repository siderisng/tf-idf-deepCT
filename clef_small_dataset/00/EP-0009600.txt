<DOC>
<DOCNO>
EP-0009600
</DOCNO>
<TEXT>
<DATE>
19800416
</DATE>
<IPC-CLASSIFICATIONS>
G06F-11/16 G06F-11/273 G06F-11/00 <main>G06F-11/22</main> 
</IPC-CLASSIFICATIONS>
<TITLE>
method and interface device for carrying out maintenance operations over an interface between a maintenance processor and a plurality of individually testable functional units of a data processing system.
</TITLE>
<APPLICANT>
siemens agde  <sep>siemens aktiengesellschaft berlin und munchen<sep>siemens aktiengesellschaftwittelsbacherplatz 280333 münchende<sep>siemens aktiengesellschaft berlin und munchen<sep>
</APPLICANT>
<INVENTOR>
dietl erich dipl-ing<sep>haas hans dipl-phys<sep>dietl, erich, dipl.-ing.<sep>haas, hans, dipl.-phys.<sep>dietl, erich, dipl.-ing.am graspoint 24d-8200 rosenheimde<sep>haas, hans, dipl.-phys.adam-berg-strasse 17d-8000 münchen 83de<sep>dietl, erich, dipl.-ing.  <sep>haas, hans, dipl.-phys.<sep>dietl, erich, dipl.-ing.am graspoint 24d-8200 rosenheimde<sep>haas, hans, dipl.-phys.adam-berg-strasse 17d-8000 münchen 83de<sep>
</INVENTOR>
<ABSTRACT>
1.  method for the implementation of servicing operations via an interface between a servicing processor (svp) and a plurality of function units (fuj) which are to be individually checked within a data processing system, where each interface connection (si) to a function unit (fuj) is of identical construction regardless of its functional scope, and every function unit likewise contains an interface adaptor (sia) of identical construction and which serves as recorder and intermediate store for items of data and control information to and from the function unit and whose internal interface (fif) to the function unit is designed to be substantially wider than the interface to the servicing processor (svp), and where, for the execution of servicing operations, items of data and control signals, accompanied by clock pulse signals, are transmitted in bit serial form in both directions via the interface connections (si), characterized in that the transmission of the data signals (dao, dai) is carried out in a protected operation, and in addition uncoded emergency signals (srq, res) can be transmitted on separate lines, that in the transmission of the data signals (dao, dai) via the interface connection (si) in each direction of transmission the clock pulse signals (clo, cli) are separately transmitted on separate lines, wherein, from the output clock pulse signal (clo) emitted from the servicing processor (svp) there is derived the input clock pulse signal (cli) which is transmitted in the opposite direction, that for purposes of transmission the data elements are converted into pulse pairs whose flanks are each synchronised with one of the two flanks of the associated clock pulse signal, where each pulse pair is monitored at every one of the other flanks of the clock pulse signal, and that the information exchanged between the interface adaptor (sia) and the associated function unit (fuj) is controlled by special strobe pulses (scom, sdat, strans, sshift). 
</ABSTRACT>
<DESCRIPTION>
schnittstelle zwischen einem wartungsprozessor und einer mehrzahl einzeln zu prüfender funktionseinheiten eines datenverarbeitenden systems. die erfindung bezieht sich auf eine schnittstelle zwischen einem wartungsprozessor und einer mehrzahl einzeln zu prl#fender funktionseinheiten eines datenverarbeitenden systems zum bidirektionalen fflsertragen von daten- und steuersignalen beim ausfahren von durch den wartt=gspro- zessor gesteuerten und durch zugriffe zu registern und datensammeiwegen in einer ausgewählten funhtionseinheit gekennzeichneten wartungsoperationen. mit immer komplexer werdenden datenverarbeitenden systemen ist auch die notwendigkeit gestiegen, fehler im betriebsverhalten solcher systeme zu erkennen und durch testroutinen die fehlerquelle zu ermitteln. dabei wird das prinzip der modularität in solchen datenverarbeitungssystemen immer mehr verwirklicht, indem eine wachsende anzahl von funktionseinheiten mehr oder minder selbstandig teilfunktionen übernimmt, so dass sich auch der umfang solcher testroutinen erweitert hat. dies schlägt sich bei bekannten datenverarbeitungssystemen in umfangreichen wartungsfeldern nieder, wie z. b. in der us-patentschrift 35 76 541 beschrieben ist. diese können wiederum soweit autonom sein, dass sie selbst prozessor eigenschaften besitzen. in diesen bekannten datenverarbeitungssystemen ist ein wartungsprozessor vorgesehen, der selbständig zugriff zum hauptspeicher des datenverarbeiten- den systems hat, in den für testroutinen testprograinrne aus einem peripheren magnetband zu laden sind. der wartung prozessor ist während einer prdfroutine selektiv mit einer von mehreren zu überprüfenden funktionseinheiten des datenverarbeitenden systems verbunden, wie z. 3. einem prozessor oder einer peripheren steuereinheit. während einer testroutine werden aus einem definierten speicherbereich des bauptspeichers testprogramme seriell gelesen und vom warrrngsprozessor ausgefuhrt. die testroutine läuft so lange ab, bis das ergebnis eines ausgeführten befehls einen erkannten fehler anzeigt und/oder ein solcher fehler in der getesteten funktionseinheit lokalisiert ist eine testoperation#besteht bei den bekannten systemen im wesentlichen darin, eine definierte anzahl von flipflops in der zu testenden funktionseinheit zunächst in einen bestimmten zustand zu setzen, danach den effektiven 3etriebs- zustand dieser flipflops abzufragen und mit einem vorgegebenen status zu vergleichen. die schnittstelle zwischen dem wartungsprozessor und der zu testenden funktionseinheit ist dabei derart ausgelegt, dass die zu einer testoperation bzw. einem teil davon gehörenden signale jeweils über fest geschaltete leitungen parallel übertragen werden können. um die vielzahl der wesentlichen steuerflipflops z. 13. in einem prozessor adressieren zu können, ist jeweils an der schnittstelle des wartungsprozessors eine auswsh matrix vorgesehen, die nur die zuleitungen ru ausge walten flipflops zum wartungsprozessor durchschaltet. daraus ist zu erkennen, dass die schnittstelle zwischen dem wartungsprozessor und der zu testenden funktionseinheit sehr breit angelegt ist und auch an die unterschiedlichen eigenschaften der zu testenden funktionseinheit angepasst sein muss. eine derart breite und individuell ausgebildete schnittstelle birgt jedoch in sich selbst bereits wieder eine kritische fehlerquelle. ausserdem wird der hardwareaufwand für die testroutine sehr gross, die schnittstelle selbst kann nicht standardisiert sein, sie ist also nicht flexibel an unterschiedliche anwendungs- fälle anpassbar. so wird also mit verhältnismässig hohem aufwand ein nur bedingt brauchbares ergebnis erzielt. dwa- bei ist zu bedenken, dass in grösseren datenverarbeitenden systemen bei entsprechender struktur eine vielzahl solcher funktionseinheiten autonom zu testen sein soll und die warrtngsschnittstelle zur "hardcoren gezählt wird, d. h. sogar noch im fehlerfall funktionsfähig sein muss, wenn warttngs aufgaben durchzuführen sind. der erfindung liegt
</DESCRIPTION>
<CLAIMS>
   patentansorüche    1. schnittstelle zwischen einem wartungsprozessor und einer mehrzahl einzeln zu prüfender funktionseinheiten eines datenverarbeitenden systems zum bidirektionalen   uebertragen    von daten- und steuersignalen beim ausführen von durch den wartungsprozessor gesteuerten und durch zugriffe zu registern und datensammelwegen in einer ausgewählten funktionseinheit gekennzeichneten wartungsoperationen, d a d u r c h g e k e n n z e i c h n e t, dass weder schnittstellenanschluss (si) zu einer funktionseinheit   (fuj)    unabhängig von deren   funktionsumfang    identisch ausgebildet ist, über den in beiden richtungen bitseriell datensignale (dao,   dai),    begleitet von taktsignalen (clo bzw. cli) mit einem gesicherten ubertragungsverfahren   und''    zusätzlich uncodiert nur notsignale (srq, res) übertragen werden und dass in jeder funktionseinheit ein ebenso   ein    heitlich ausgebildeter schnittstellenadapter (sia) vorgesehen ist, der als umcodierer und zwischenspeicher für steuer- und dateninformationen zu und von der   funktions-    einheit dient, dessen interne schnittstelle (fif) zur funktionseinheit deshalb wesentlich breiter als die interne   schnittsterle    zum wartungsprozessor (svp) ausgelegt und an die struktur der parallelen datenwege (z. b. bus) in den funktionseinheiten angepasst ist und der den   in-    formationsaustausch über die interne schnittstelle mit strobeimpulsen (scom, sdat, strans, sshift) steuert.   2. verfahren zum durchführen von wartungsoperationen über eine schnittstelle nach anspruch 1, d a d u r c h g e k e n n z e i c h n e t, dass zur bitseriellen   ubertragung    von datensignalen (dao,   dai)    über den schnittstellen   anschluss (ski) in 3 beider ubertragungsrichtung taktsignale    (clo, cli) gesondert geführt werden, wobei aus dem vom wartungsprozessor (svp) abgegebenen ausgangstaktsignal (clo) das in gegenrichtung übertragene eingangstaktsignal   (cli) abgeleitet wird und dass die datenelemente zum   uber-    tragen in impulspaare umgewandelt werden, dessen flanken jeweils mit einer der beiden flanken des zugehörigen taktsignals synchronisiert sind, wobei jedes impulspaar bei jeder der anderen flanken des taktsignals ausgewertet wird 3. verfahren nach anspruch 2, d a d u r c h g e k e n n z e i c h n e t, dass die taktfrequenz des ausgangstaktes (clo) unterhalb einer vorgegebenen maximalfrequenz wählbar ist und dabei auch   taktpauser    zulässig sind.   4. verfahren nach einem der   anspruche    2 oder 3, d a d u r g e k e n n z e i c h n e t, dass innerhalb eines impulspaares ein zustandswechsel von niedrigem auf hohen'pegel ein datenelement mit dem einen binären zustand, ein umgekehrt er zustandswechsel ein datenelement mit dem anderen binären zustand festlegt und dass von den beiden anderen möglichen   impulspaaren    ohne zustandswechsel nur eines als sonderzeichen (s) zulässig ist.   5. verfahren nach einem der ansprüche 2 bis 4, d a d u r c g e k e n n z e i c h n e t, dass die datenelemente blockweise, eingeleitet durch eine aus mehreren impulspaaren bestehende kopfsequenz   (es)    mit einer variablen länge des textteile   (btx)    und abgeschlossen durch eine eindeutig unterscheidbare endesequenz (es) übertragen werden.   6. verfahren nach anspruch 4 und 5, d a d u r c h g e k e n n z e i c h n e t, dass die   endesequen    (es) zur eindeutigen unterscheidung von datenelementen des textteils (tx) sonderzeichen (s) enthält, die nur dort verwendet werden.   7. verfahren nach einem der   knsprxche    2 bis 6, d a d u r c g e k e n n z e i c h n e t, dass wartungsoperationen aus drei vom wartungsprozessor (svp) ausgesandten, durch unter  schiedlich ausgebildete   kopfsequenzen    (ks) unterscheidbaren und durch identische ende sequenzen (es) abgeschlossenen sendungen gebildet werden, von denen innerhalb einer wartungsoperation immer zunächst eine befehlssendung (cmd) zum einstellen von funktionen im schnittstellenadapter (sia) bzw.   der angeschlossenen   funktionseinheit (fuj) einer datensendung      (dts)    oder einer leerrahmensendung   (ble)    vorausgeht und mit letzterer der wartungsprozessor (svp) eine datensendung aus dem schnittstellenadapter (sia) einleitet und dass die vom wartungsprozessor   zum    schnittstellenadapter zusammen mit dem   äusgangstaktsignal    (clo) übertragenen sendungen in gegenrichtung zusammen mit dem abgeleiteten eingangstaktsignal (cli) rückübertragen werden, wobei vom schnittstellenadapter bei einem vom wartungsprozessor angeforderten daten   transport in den textteil (tz) mit datenelementen n¯n #" einer    leerrahmensendung die bereitgestellten datenelemente codiert eingesetzt werden.   8. schnittstellenadapter in einer schnittstelle nach anspruch 1 bzw. als schaltungsanordnung zur durchführung eines verfahrens nach einem der ansprüche 2 bis 7, g e k e n n z e i c h n e t durch eine zeitsteuereinheit (ctu) mit einem prozessorseitigen anschluss zum zuführen des ausgangstaktsignals (clo) an ein invertierendes verknüpfungsglied   (nor1),    an dessen ausgang das abgeleitete eingangstaktsignal (cli) abgegeben wird, mit einem satz von durch das ausgangstaktsignal getakteten und durch empfangene datensignale (dao) einstellbaren zustandsflipflops(sff) und mit einem strobegenerator (sg), der abhängig vom zustand ausgewählter zustandsflipflops strobeimpulse (scom, sdat, strans, sshift) zum steuern des datenaustausches mit der funktionseinheit erzeugt,  durch eine   ein-/ausgabeeinheit    (iou) mit prozessorseitigen anschlossen für die seriellen datenausgangs- und datenein   gangssignale < dao    bzw.   dal),    an die eine datenempfangsschaltung   (dip)    zum decodieren der codiert übertragenen   datenausgangssignale (dao), mit einer datensendeschaltung (dop) zum verschlüsseln der zu übertragenden   dateneingangs    signale   (dai)    und mit zwischenspeicherregistern (comr, star) zum zwischenspeichern parallel an die angeschlossene funktionseinheit (fuj) auszugeberder bzw. parallel von der   funktionseinheit empfangener wartungsinfo=ati o4# c o#ri;    i = 1 bis 15, statm;  m = ¯ bis 7) und durch eine fehlererkennungseinheit (eru) mit einem logischen fehlererkennune netzwerk   (enw)    zum   uberprüfen    der prozessorseitig empfanger bzw. abzugebenden sendungen (dts, cmd, blk) aufgrund der redundanz des   ubertragungsverfahrens    und mit fehlerflipflops   (eff1,    eff2), die an dieses netzwerk bzw. an einen ir ternen   schnittstellenaz;schlu#    für ein anforderungssignal (rtosvp) bei einem in der funktionseinheit erkannten fehler angeschlossen und deren ausgänge logisch verknüpft an einen prozessorseitigen anschluss für das an den wartungsprozessor (svp) zu übertragende notsignal (srq) angeschlossen sind.   9. schnittstellenadapter nach anspruch 8, d a d u r c h g e k e n n z e i c h n e t, dass eines der in der ein-/ausgabeeinheit (iou) angeordneten register als ein befehlsre-¯ gister (comr) verwendet ist, in das bei einer befehlssendung   (ced)    die entschlüsselten   dztenelemente    des textteils (tx) aus der datenempfangsschaltung (dip) übernommen wenden und dessen ausgänge zur ubergabe der befehlssignale   (conri)    parallel an die interne schnittstelle (fif) zur funktionseinheit (fuj) angeschlossen sind, dass ein weiteres register als statusregister (star) vorgesehen ist, dessen parallelen eingängen statussignale (statm) der funktionseinheit zuführbar sind und dessen serieller ausgang mit der datensendeschaltung (dop) verbunden ist.    10. schnittstellenadapter nach anspruch 8 oder 9, d a d u r c h g e k e n n z e i c h n e t, dass der ausgang der datenempfangsschaltung (dip) weiterhin mit einem anschluss der internen schnittstelle (fif) zur funrktionseinheit      (fuj)    zum bitseriellen   uebertragen    von datensignalen (dfrsvp) vom wartungsprozessor (svp) zur funktionseinheit und der eingang der datensendeschaltung (dop) mit einem anschluss der internen schnittstelle zum bitseriellen   übertragen    von datensignalen (dtosvp) von der   funktionseinheit    zum wartungsprozessor verbunden sind.   11. schnittstellenadapter nach anspruch 10, d a d u r c h g e k e n n z e i c h n e t, dass der strobegenerator (sg) in der zeitsteuereinheit (ctu) derart ausgebildet ist, dass er aus dem zustand der zustandsflipflops (sff) vier strobe .impulse zum steuern des   datentransfers    über die interne schnittstelle (fif) zur funktionseinheit (fuj) ableitet, von denen der erste strobeimpuls (scom) den inhalt des befehlsregisters (comr) für die funktionseinheit als gültig kennzeichnet, ein zweiter strobeimpuls (strans) einer bitseriellen   dateneingabe    über den eingang für datensignale (dtosvp) zum wartungsprozessor (svp) vorausgeht,  ein weiterer strobeimpuls (sdat) eine bitserielle datenein- oder datenausgabe abschliesst und der letzte strobeimpuls (sshift) jeweils die bitweise   übernahme    bzw.ubergabe eines datenelements markiert.    12. schnittstellenadapter nach einem der ansprüche 8 bis 11, d a d u r c h g e k e n n z e i c h n e t, dass zum prüfen einer einwandfreien funktion alle: seine wesentlichen flipflops, insbesondere des statusregisters (star), zustandsflipflops   (sff)    und des befehlsregisters (comr) zu einem durch einen extern. zugeführten testschiebeimpuls zu steuernden und durch einen ebenso extern zugeführten testtaktimpuls getakteten schieberegister   zusammen-    schaltbar sind und dass dieses schieberegister einen gesonderten dateneingang (starte) bzw. -ausgang   (comri5)    besitzt und damit von aussen der zustand aller angeschlossenen flipflops einstellbar bzw. abfragbar ist.  
</CLAIMS>
</TEXT>
</DOC>
