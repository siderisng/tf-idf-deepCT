<DOC>
<DOCNO>
EP-0011136
</DOCNO>
<TEXT>
<DATE>
19800528
</DATE>
<IPC-CLASSIFICATIONS>
G06F-12/14 G06F-9/22 G06F-12/16 
</IPC-CLASSIFICATIONS>
<TITLE>
integrity protection circuitry for read-/write control storage.
</TITLE>
<APPLICANT>
ibmus <sep>international business machines corporation <sep>international business machines corporation old orchard roadarmonk, n.y. 10504us<sep>
</APPLICANT>
<INVENTOR>
gallagher joseph gerardus<sep>plant james walterus<sep>gallagher, joseph gerard<sep>plant, james walter<sep>gallagher, joseph gerardr.d. 3, box 123aowego, new york 13827us<sep>plant, james walter1024 holly laneendwell, new york 13760us<sep>
</INVENTOR>
<ABSTRACT>
this storage is either integrated with a main memory or arranged separated from it, each addressable control storage location being associated with an integrity bit which is set to "1" for each control storage location to be protected during the initialisation phase and is set to "0" for each storage location not to be protected, or conversely, the integrity bit belonging to each control storage location being removed when the location is addressed.  the write gate circuits prevent writing into the control storage when the integrity bit indicates that this is a protected storage location.  an attempt at overwriting a protected storage location is also signalled to a repetition circuit which allows a predetermined number of repetitions.  the overwriting attempt signal generated is used as trigger for error correction and for safeguarding and identifying faulty instructions.  <image>
</ABSTRACT>
<DESCRIPTION>
integritätsschutz für einen lese-/schreib-steuerspeicher die erfindung betrifft eine schaltungsanordnung nach dem oberbegriff des anspruchs 1. wie aus den us-patentschriften nr. 3 108 257 und 3 599 159 zu ersehen ist, wurden bisher schon verschiedene verfahren und anordnungen vorgeschlagen, um die für den benutzer eines datenverarbeitungssystems zugänglichen register oder speicherstellen zu schützen, die während des laufes eines benutzerprogrammes übeschrieben werden können. alle herkömmlichen speicherschutzverfahren oder anordnungen weisen jedoch gewisse einschränkungen auf, die ihren einsatz in bestimmten anwendungen verbieten. wenn in einem datenverarbeitungssystem beispielsweise der mikrocode in einem lese-/ schreib-steuerspeicher untergebracht wird, dann verbleibt dort freier platz, der wirtschaftlich immer vorteilhaft zur speicherung von zwischenergebnissen in arbeitsregistern benutzt werden kann. damit wird von der möglichkeit gebrauch gemacht, in den steuerspeicher zu schreiben. die bereiche des steuerspeichers, in denen der mikrocode steht, müssen jedoch gegen zufälliges uberschreiben beim einsetzen von zwischenergebnissen in die freien bereiche geschützt werden. herkömmliche schutzvorrichtungen, wie oben angegeben, erzeugen jedoch eine programmprüfungsunterbrechung, wenn sie eine versuchte verletzung einer geschützten stelle erkennen, d. h., ein laufendes programm wird abgebrochen in der annahme, dass ein auf der programmierung basierender fehler aufgetreten ist. durch eine solche reaktion wird natürlich nicht auf das problem des zerstörten steuerspeichers aufmerksam gemacht oder dieses problem gelöst. beim schutz des steuerspeichers geht es um die integrität der maschinenausrüstung und nicht um einen fehler im benutzerprogramm, der falsche ergebnisse bringen kann. wenn eine stel le im steuerspeicher durch ein unzulässiges überschreiben verdorben ist, dann ist mindestens ein teil des mikrocode sinnlos, da er irgendein zwischenergebnis aber nicht das richtige mikrocodewort enthält. wenn das passiert, zeigt sich der auf den zerstörten mikrocode zurückzuführende fehler wahrscheinlich erst lange nach der adressierung der stelle im steuerspeicher, auf der das fehlerhafte mikrocodewort steht. die eigentlichen ursache des falschen ergebnisses ist also sehr schwer zu identifizieren. der benutzer stellt lediglich fest, dass sein programm beendet wurde. ausserdem bleibt dem datenverarbeitungssystem selbst die möglichkeit, andere benutzerprogramme abzuarbeiten, auch wenn die maschinenausrüstung oder der teil, der durch den mikrocode dargestellt wird, über seinen für die genaue benutzung zulässigen zustand hinaus beschädigt oder verändert wurde. das führt zu einer höheren systemstillstandszeit und somit zu höheren wartungskosten. die aufgabe der vorliegenden erfindung besteht darin, das irrtümliche überschreiben identifizierter stellen eines lese-/ schreib-steuerspeichers durch eine leicht und kostengünstig auszuführende schutzeinrichtung, die auch zum prüfen vorgeschlagener mikrocodes verwendet werden kann, zu verhindern und ein datenverarbeitungssystem mit einer beschädigten steuerspeicherstelle nach einer vorgegebenen anzahl von wiederholten leseversuchen vollständig abzuschalten. die aufgabe der erfindung wird dadurch gelöst, dass man jeder adressierbaren steuerspeicherstelle ein integritätsbit hinzufügt oder ein solches vorsieht. während der initialisierung wird das integritätsbit auf logisch "1" für jede steuerspeicherstelle gesetzt, die zu schützen ist, und für jede nicht zu schützende stelle auf logisch "0". es ist eine schaltung vorgesehen, mit der das zu jeder steuerspeicherstelle gehörende integritätsbit bei deren adressierung abgefragt wird und andere schaltungen daran gehindert werden, in den steuerspeicher nur zu schreiben, wenn das integritätsbit auf logisch 11111 steht. ein versuch des überschreibens einer ge schützten steuerspeicherstelle wird ausserdem der wiederholungsschaltung mitgeteilt, die eine vorgegebene anzahl von
</DESCRIPTION>
<CLAIMS>
 patentansprüche   1. schaltungsanordnung zum integritätsschutz für einen lese-/schreibsteuerspeicher und/oder einen hauptspeicher eines datenverarbeitungssystems, wobei der steuerspei cher ausser durch schutzbits geschützte mikroprogramm- und steuerfelder speicherplätze enthält, die nicht geschützt sind und in die informationen eingeschrieben bzw.  aus denen informationen mit hilfe von speicheradressregistern, speicherdatenregistern und steuerschaltungen des steuer und/oder hauptspeichers ausgelesen werden, dadurch ge kennzeichnet, dass jeder frei adressierbaren speicherstelle im steuer speicher (24) ein integritätsschutzbit zugeordnet ist, das während einer initialisierungsphase für jede zu schützende speicherstelle auf "1" gesetzt wird und für jede nicht zu schützende stelle auf   "o"    oder umgekehrt, dass das speicherdatenregister (34) ebenfalls eine freie speicherstelle für ein integritätsschutzbit aufweist, dass diese stelle des speicherdatenregisters (32) mit einer ersten und-schaltung (48) direkt und mit einer zweiten und-schaltung (46) über einen inverter (44) ver bunden ist,  dass ausserdem mit beiden genannten und-schal tungen als zweiter eingang das schreib-steuersignal  über eine leitung (39) vom steuerregister verbunden ist, das seinerseits mit dem speicherdatenregister verbunden ist, und dass der ausgang der und-schaltungen (46, 48) mit den schreibtorschaltungen (50) des speichers verbunden ist, um das zu jeder steuerspeicherstelle gehörende integritäts bit bei deren adressierung abzufragen und zu verhindern, dass in den steuerspeicher eingeschrieben wird, wenn das integritätsbit auf "1" steht.   2. schaltungsanordnung nach anspruch 1, dadurch gekennzeich net, dass bei einem versuch des uberschreibens einer   geschützt     ten speicherstelle im steuerspeicher (34) die und-schal tung (48) ein   überschreib-versuchssignal    (50') abgibt, das anzeigt, dass ein maschinenfehler vorliegt, wodurch fehlerkorrekturoperationen ausgelöst werden.   3. schaltungsanordnung nach anspruch 2, dadurch gekennzeich net, dass das   uberschreib-versuchssignal    (50') eine mel dung zur wiederholung der schreiboperation oder zur rettung der zeiger zur identifizierung einer fehlerhaf ten instruktion im datenverarbeitungssystem (36) auslöst.    4. schaltungsanordnung nach den ansprüchen 1 bis 3, dadurch gekennzeichnet, dass der hauptspeicher (28) und der steuer speicher (24) ein gemeinsames   speicheradressregister    (30), gemeinsame schreibtorschaltungen (50) und ein gemeinsames speicherdatenregister   (32) mit    einer position (34) zur speicherung und abfühlung des integritätsschutzbits aufwei sen.   5. schaltungsanordnung nach den ansprüchen 1 bis 3, dadurch gekennzeichnet, dass der steuerspeicher (24') getrennt vom hauptspeicher (28') angeordnet ist und eigene inte gritätsschutzbitspeicher-, abfühl- und verknüpfungsschal tungen (34', 44', 46', 48', 50'), besitzt.  
</CLAIMS>
</TEXT>
</DOC>
